# Вопросы для устных ответов: iptables

## Теоретические вопросы

1. **Опишите основную архитектуру iptables. Что такое таблицы (tables), цепочки (chains) и правила (rules)? Как они взаимодействуют между собой?**

2. **В чем ключевое различие между stateful и stateless фильтрацией пакетов? Как iptables реализует stateful-проверку и какие преимущества это дает?**

3. **Каков порядок прохождения пакета через цепочки разных таблиц (filter, nat, mangle)? Опишите путь пакета при входном, выходном и форвардинговом трафике.**

4. **Что такое NAT и какие его основные типы реализует iptables (SNAT, MASQUERADE, DNAT)? В каких таблицах и цепочках они настраиваются и для решения каких задач предназначены?**

5. **Объясните разницу между политикой (Policy) цепочки и правилом (Rule). Почему устанавливать политику DROP или REJECT для встроенных цепочек без предварительного настройки правил — это плохая практика?**

## Практические вопросы

1. **Заблокируйте все входящие (INPUT) соединения с IP-адреса 192.168.1.100.**

2. **Разрешите удаленному серверу с IP 10.0.0.5 подключаться по SSH (порт 22) к вашему серверу. Все остальные входящие SSH-подключения должны блокироваться.**

3. **Настройте проброс портов. Перенаправьте все входящие соединения на порт 8080 вашего сервера на внутренний сервер 172.16.1.10 на порт 80.**

4. **Ваш сервер является шлюзом для сети 192.168.0.0/24. Настройте его так, чтобы компьютеры в этой сети могли выходить в интернет через него (используйте MASQUERADE).**

5. **Разрешите уже установленные (established) и связанные с ними (related) соединения во входящем (INPUT) трафике. Почему это правило обычно ставят одним из первых?**

## Рекомендации для ответов

Студенты должны демонстрировать глубокое понимание архитектуры iptables, уметь объяснять принципы работы различных таблиц и цепочек, а также приводить практические примеры команд для решения типичных задач сетевой безопасности.
